{
    "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
    "background": "#E4E4E9",
    "height": 170,
    "description": "Proportion of rivers in 2016",
    "data": {
      "url": "https://raw.githubusercontent.com/HYuanAi/FIT3179/master/Assignment 2/data/Rivers_WQI.csv"
    },
    "transform": [
      {
        "aggregate": [{"op": "count", "field": "River", "as": "count"}],
        "groupby": ["Category_2016"]
      },
      { "calculate": "datum.count", "as": "label" }
    ],
    "encoding": {
      "theta": {
        "field": "count",
        "type": "quantitative",
        "stack": true
      },
      "color": {
        "field": "Category_2016",
        "type": "nominal",
        "legend": null,
        "scale": {
          "domain": ["Clean", "Slightly Polluted", "Polluted"],
          "range": ["#208AAE", "#898B80", "#60492C"]
        }
      }
    },
    "layer": [
      {
        "mark": {
          "type": "arc",
          "innerRadius": 75,
          "cornerRadius": 50,
          "padAngle": 0.02
        }
      },
      {
        "mark": {"type": "text", "radius": 100},
        "encoding": {"text": {"field": "label", "type": "nominal"}}
      },
      {"mark": {"type": "text", "text": "2016", "size": 36, "fill": "#0D2149"}}
    ],
    "view": {"stroke": null}
  }